<!doctype html>

<html lang="de">
  <head>
    <meta charset="utf-8">

    <title>Location Based AR</title>

    <link rel="stylesheet" href="styles.css">

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
  </head>

  <body>
    <script>
      AFRAME.registerComponent('cursor-listener', {
        init: function() {
          var data = this.data;
          var el = this.el;
          console.log('load');
          el.addEventListener('click', function(evt) {
            alert('click');
          });
        }
      });
    </script>

    <div class="button__wrapper">
      <button type="button" class="button">Anleitung</button>
      <button type="button" class="button">Modus</button>
    </div>

    <a-scene 
      vr-mode-ui='enabled: false' 
      arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' 
      renderer='antialias: true; alpha: true logarithmicDepthBuffer: true;'
      gesture-detector
      id="scene">

      <a-camera gps-camera gps-new-camera='gpsMaxDistance: 5'></a-camera>

      <a-entity
        raycaster="a-box: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;">
        <a-text
          value="Meine Haltestelle"
          text="align: right; width: 3; color: black;"
          font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
          look-at="[gps-camera]"
          scale="1 1 1"
          gps-new-entity-place="latitude: 51.034958; longitude: 13.800679"
        >
          <a-text
            value="Steig 1"
            text="width: 3; color: black;"
            font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
            position="-1.1 -0.2 0"
          >
          </a-text>

          <a-text
            value="3 m entfernt"
            text="width: 2.5; color: black;"
            position="-1.1 -0.4 0"
          >
          </a-text>

          <a-text
            value="1   Leutewitz"
            text="width: 2.5; color: black;"
            position="-1.1 -0.7 0"
          >
          </a-text>

          <a-text
            value="4   Radebeul West"
            text="width: 2.5; color: black;"
            position="-1.1 -0.9 0"
          >
          </a-text>

          <a-text
            value="2   Gorbitz"
            text="width: 2.5; color: black;"
            position="-1.1 -1.1 0"
          >
          </a-text>

          <a-text
            value="jetzt"
            text="width: 2.5; color: black;"
            position="0.5 -0.7 0"
          >
          </a-text>

          <a-text
            value="2 min"
            text="width: 2.5; color: black;"
            position="0.5 -0.9 0"
          >
          </a-text>

          <a-text
            value="5 min"
            text="width: 2.5; color: black;"
            position="0.5 -1.1 0"
          >
          </a-text>

          <a-box
            color="#FFF"
            transparent="true"
            opacity="0.9"
            position="0 -0.7 -1"
            width="2.6"
            height="2"
            cursor-listener
          >
          </a-box>
        </a-text>
      </a-entity>
    </a-scene>
  </body>
</html>
