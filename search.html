<!doctype html>

<html lang="de" data-theme="light">
  <head>
    <meta charset="utf-8">

    <title>Location Based AR</title>

    <link rel="stylesheet" href="styles.css">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <script type='text/javascript' src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script type='text/javascript' src='docs/assets/libs/ar-threex-location-only.js'></script>
    <script type='text/javascript' src="docs/assets/libs/ar.js"></script>
    <script type='text/javascript' src="docs/assets/libs/aframe-look-at-component.js"></script>
  </head>

  <body>
    <script src="/docs/assets/js/detail-overlay.js"></script>

    <h1>Web AR Haltestellensuche</h1>

    <div class="overlay overlay--permission-warning open">
      <div class="warning-box hidden">
        <div class="warning-box__top">
          <svg width="60" height="54" viewBox="0 0 60 54" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M59.1427 43.9506L35.7198 3.27322C35.1345 2.27664 34.2989 1.45033 33.2958 0.876186C32.2928 0.302041 31.1571 0 30.0013 0C28.8456 0 27.7099 0.302041 26.7068 0.876186C25.7038 1.45033 24.8682 2.27664 24.2829 3.27322L0.859972 43.9506C0.296794 44.9145 0 46.0108 0 47.1272C0 48.2436 0.296794 49.3399 0.859972 50.3038C1.43779 51.3064 2.27196 52.1373 3.27689 52.711C4.28181 53.2848 5.4213 53.5809 6.57843 53.5689H53.4242C54.5805 53.5799 55.7188 53.2834 56.7227 52.7097C57.7266 52.136 58.56 51.3057 59.1373 50.3038C59.7013 49.3404 59.9991 48.2443 60 47.128C60.0009 46.0116 59.7051 44.915 59.1427 43.9506ZM55.4277 48.1584C55.2235 48.5067 54.9304 48.7945 54.5783 48.9922C54.2262 49.1899 53.8279 49.2904 53.4242 49.2834H6.57843C6.17473 49.2904 5.77643 49.1899 5.42437 48.9922C5.07231 48.7945 4.77916 48.5067 4.57496 48.1584C4.39 47.8453 4.29243 47.4882 4.29243 47.1245C4.29243 46.7609 4.39 46.4038 4.57496 46.0907L27.9979 5.41329C28.2062 5.06663 28.5007 4.77977 28.8527 4.58063C29.2047 4.38148 29.6023 4.27682 30.0067 4.27682C30.4111 4.27682 30.8087 4.38148 31.1607 4.58063C31.5127 4.77977 31.8072 5.06663 32.0155 5.41329L55.4384 46.0907C55.6218 46.4048 55.7175 46.7623 55.7156 47.126C55.7137 47.4897 55.6143 47.8462 55.4277 48.1584ZM27.8586 32.1414V21.4277C27.8586 20.8594 28.0843 20.3143 28.4862 19.9125C28.888 19.5107 29.433 19.2849 30.0013 19.2849C30.5696 19.2849 31.1146 19.5107 31.5165 19.9125C31.9183 20.3143 32.1441 20.8594 32.1441 21.4277V32.1414C32.1441 32.7097 31.9183 33.2547 31.5165 33.6565C31.1146 34.0584 30.5696 34.2841 30.0013 34.2841C29.433 34.2841 28.888 34.0584 28.4862 33.6565C28.0843 33.2547 27.8586 32.7097 27.8586 32.1414ZM33.2155 41.7837C33.2155 42.4194 33.027 43.0409 32.6738 43.5694C32.3206 44.098 31.8186 44.5099 31.2313 44.7532C30.644 44.9965 29.9978 45.0601 29.3743 44.9361C28.7508 44.8121 28.1781 44.506 27.7286 44.0565C27.2791 43.607 26.973 43.0343 26.849 42.4108C26.725 41.7873 26.7886 41.1411 27.0319 40.5538C27.2751 39.9665 27.6871 39.4645 28.2157 39.1113C28.7442 38.7581 29.3656 38.5696 30.0013 38.5696C30.8538 38.5696 31.6713 38.9083 32.2741 39.511C32.8768 40.1138 33.2155 40.9313 33.2155 41.7837Z"/>
          </svg>
        </div>

        <div class="warning-box__content">
          <h2>Fehlende Berechtigungen</h2>
          <p>Damit die AR-Anwendung funktioniert, werden noch Berechtigungen benötigt.</p>

          <div class="permission-box--location">
            <div class="icon">
              <svg width="18" height="21" viewBox="0 0 18 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M9 0C11.3869 0 13.6761 0.948211 15.364 2.63604C17.0518 4.32387 18 6.61305 18 9C18 12.074 16.324 14.59 14.558 16.395C13.6755 17.2869 12.7128 18.0956 11.682 18.811L11.256 19.101L11.056 19.234L10.679 19.474L10.343 19.679L9.927 19.921C9.64451 20.0818 9.32505 20.1663 9 20.1663C8.67495 20.1663 8.35549 20.0818 8.073 19.921L7.657 19.679L7.137 19.359L6.945 19.234L6.535 18.961C5.42298 18.2083 4.38707 17.3489 3.442 16.395C1.676 14.589 0 12.074 0 9C0 6.61305 0.948211 4.32387 2.63604 2.63604C4.32387 0.948211 6.61305 0 9 0ZM9 2C7.14348 2 5.36301 2.7375 4.05025 4.05025C2.7375 5.36301 2 7.14348 2 9C2 11.322 3.272 13.36 4.871 14.996C5.55862 15.6919 6.30174 16.3307 7.093 16.906L7.551 17.232C7.699 17.335 7.841 17.431 7.978 17.52L8.368 17.77L8.711 17.979L9 18.148L9.455 17.879L9.822 17.649C10.017 17.525 10.227 17.386 10.449 17.232L10.907 16.906C11.6983 16.3307 12.4414 15.6919 13.129 14.996C14.728 13.361 16 11.322 16 9C16 7.14348 15.2625 5.36301 13.9497 4.05025C12.637 2.7375 10.8565 2 9 2ZM9 5C10.0609 5 11.0783 5.42143 11.8284 6.17157C12.5786 6.92172 13 7.93913 13 9C13 10.0609 12.5786 11.0783 11.8284 11.8284C11.0783 12.5786 10.0609 13 9 13C7.93913 13 6.92172 12.5786 6.17157 11.8284C5.42143 11.0783 5 10.0609 5 9C5 7.93913 5.42143 6.92172 6.17157 6.17157C6.92172 5.42143 7.93913 5 9 5ZM9 7C8.46957 7 7.96086 7.21071 7.58579 7.58579C7.21071 7.96086 7 8.46957 7 9C7 9.53043 7.21071 10.0391 7.58579 10.4142C7.96086 10.7893 8.46957 11 9 11C9.53043 11 10.0391 10.7893 10.4142 10.4142C10.7893 10.0391 11 9.53043 11 9C11 8.46957 10.7893 7.96086 10.4142 7.58579C10.0391 7.21071 9.53043 7 9 7Z"/>
              </svg>  
            </div>     
    
            <span>Berechtigung für Standort aktiviert</span>
          </div>
    
          <div class="permission-box--camera">
            <div class="icon">
              <svg width="22" height="19" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.5 2.875H16.1019L14.9375 1.12563C14.8346 0.971383 14.6952 0.844968 14.5316 0.757627C14.368 0.670285 14.1854 0.624725 14 0.625H8C7.81458 0.624725 7.63197 0.670285 7.46841 0.757627C7.30484 0.844968 7.16541 0.971383 7.0625 1.12563L5.89719 2.875H3.5C2.80381 2.875 2.13613 3.15156 1.64384 3.64385C1.15156 4.13613 0.875 4.80381 0.875 5.5V16C0.875 16.6962 1.15156 17.3639 1.64384 17.8562C2.13613 18.3484 2.80381 18.625 3.5 18.625H18.5C18.8447 18.625 19.1861 18.5571 19.5045 18.4252C19.823 18.2933 20.1124 18.0999 20.3562 17.8562C20.5999 17.6124 20.7933 17.323 20.9252 17.0045C21.0571 16.6861 21.125 16.3447 21.125 16V5.5C21.125 5.15528 21.0571 4.81394 20.9252 4.49546C20.7933 4.17698 20.5999 3.8876 20.3562 3.64385C20.1124 3.40009 19.823 3.20674 19.5045 3.07482C19.1861 2.9429 18.8447 2.875 18.5 2.875ZM18.875 16C18.875 16.0995 18.8355 16.1948 18.7652 16.2652C18.6948 16.3355 18.5995 16.375 18.5 16.375H3.5C3.40054 16.375 3.30516 16.3355 3.23484 16.2652C3.16451 16.1948 3.125 16.0995 3.125 16V5.5C3.125 5.40054 3.16451 5.30516 3.23484 5.23483C3.30516 5.16451 3.40054 5.125 3.5 5.125H6.5C6.68542 5.12528 6.86803 5.07972 7.03159 4.99237C7.19516 4.90503 7.33459 4.77862 7.4375 4.62438L8.60187 2.875H13.3972L14.5625 4.62438C14.6654 4.77862 14.8048 4.90503 14.9684 4.99237C15.132 5.07972 15.3146 5.12528 15.5 5.125H18.5C18.5995 5.125 18.6948 5.16451 18.7652 5.23483C18.8355 5.30516 18.875 5.40054 18.875 5.5V16ZM11 5.875C10.11 5.875 9.23995 6.13892 8.49993 6.63339C7.75991 7.12785 7.18314 7.83066 6.84254 8.65292C6.50195 9.47519 6.41283 10.38 6.58647 11.2529C6.7601 12.1258 7.18868 12.9276 7.81802 13.557C8.44736 14.1863 9.24918 14.6149 10.1221 14.7885C10.995 14.9622 11.8998 14.8731 12.7221 14.5325C13.5443 14.1919 14.2471 13.6151 14.7416 12.8751C15.2361 12.135 15.5 11.265 15.5 10.375C15.4988 9.18191 15.0243 8.03804 14.1806 7.19439C13.337 6.35075 12.1931 5.87624 11 5.875ZM11 12.625C10.555 12.625 10.12 12.493 9.74997 12.2458C9.37996 11.9986 9.09157 11.6472 8.92127 11.236C8.75097 10.8249 8.70642 10.3725 8.79323 9.93605C8.88005 9.49959 9.09434 9.09868 9.40901 8.78401C9.72368 8.46934 10.1246 8.25505 10.561 8.16823C10.9975 8.08142 11.4499 8.12597 11.861 8.29627C12.2722 8.46657 12.6236 8.75496 12.8708 9.12497C13.118 9.49498 13.25 9.92999 13.25 10.375C13.25 10.9717 13.0129 11.544 12.591 11.966C12.169 12.3879 11.5967 12.625 11 12.625Z"/>
              </svg>            
            </div>
    
            <span>Berechtigung für Kamera aktiviert</span>
          </div>

          <button type="button" class="button overlay__header-close-button" >Schließen</button>
        </div>
      </div>
    </div>

    <div class="stop-information-box">
      <!-- markup for stop information created by search.js -->
    </div>

    <div class="search-button__wrapper">
        <a href="https://franziska-hu.github.io/index.html" class="button search-button">Suche beenden</a>
    </div>

    <a-scene 
      vr-mode-ui='enabled: false' 
      arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' 
      renderer='antialias: true; '
      gesture-detector
      id="scene">

      <a-camera 
        user-camera
        gps-new-camera='
          gpsMinDistance: 1'
        far="1000000" 
        look-controls-enabled='false'
        arjs-device-orientation-controls='smoothingFactor: 0.1'
      ></a-camera>

      <!-- markup for pin created by search.js -->
    </a-scene>

    <div class="overlay overlay--detail">
      <!-- markup for overlay created by detail-overlay.js -->
    </div>

    <script src="/docs/assets/js/search.js"></script>
  </body>
</html>
